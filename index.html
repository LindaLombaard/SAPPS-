<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">

<style>
  :root{
    --brand:#ff7b00;
    --black:#111;
    --white:#fff;
    --nav-height:64px;
  }

  *{box-sizing:border-box}
  html{scroll-behavior:smooth}
  body{
    margin:0;
    font-family:"Montserrat",sans-serif;
    color:#222;
    background:#fff;
  }

  /* ---------- NAV ---------- */
  nav{
    position:fixed;
    top:0;
    left:0;
    right:0;
    height:var(--nav-height);
    background:var(--black);
    display:flex;
    align-items:center;
    z-index:1200;
    padding:0 18px;
    box-shadow:0 1px 0 rgba(255,255,255,0.03) inset;
    gap:12px;
    justify-content:space-between;
  }

  /* brand/logo area (optional) */
  .nav-brand{ display:flex; align-items:center; gap:12px; }
  .nav-brand img{ height:40px; display:block; }

  nav ul{
    list-style:none;
    margin:0;
    padding:0;
    display:flex;
    gap:18px;
    align-items:center;
    width:100%;
    justify-content:center;
  }

  nav li{position:relative}
  nav a{
    color:var(--white);
    text-decoration:none;
    padding:10px 14px;
    display:inline-block;
    font-weight:600;
    border-radius:4px;
  }
  nav a:hover{background:rgba(255,255,255,0.06)}
  nav a.active{
    background:var(--brand);
    color:#fff;
  }

  /* dropdown */
  nav li ul{
    display:none;
    position:absolute;
    top:calc(var(--nav-height) + 6px);
    left:0;
    background:var(--black);
    border-radius:6px;
    min-width:220px;
    flex-direction:column;
    box-shadow:0 6px 20px rgba(0,0,0,0.35);
    padding:8px 0;
  }

  /* show on hover only on devices that support hover */
  @media (hover: hover) {
    nav li:hover > ul{display:flex}
  }

  nav li ul li{padding:0}
  nav li ul li a{padding:10px 16px; width:100%; display:block}
  nav li ul li a:hover{background:rgba(255,255,255,0.04)}

  /* ---------- HERO ---------- */
  .hero {
    height: 80vh; /* shrink dynamically */
    min-height: 400px;
    background: url('images/sapps-banner-1.png') center/cover no-repeat;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    margin-top: var(--nav-height);
    text-align: center;
    overflow: hidden;
  }

  .hero-overlay {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.35);
    transition: background .25s linear;
    z-index: 1;
    pointer-events: none; /* allow clicks to pass through */
  }

  .hero .content {
    position: relative;
    z-index: 2;
    padding: 0 20px;
    text-align: center;
  }
  .hero h1 {
    font-size: 2.2rem;
  }
  .hero p {
    font-size: 1rem;
  }

  /* sections base */
  main{max-width:1200px; margin:0 auto; padding:48px 18px}
  h2.section-title{color:var(--brand); font-size:1.6rem; margin:18px 0 20px; text-align:left}
  section{margin:40px 0; opacity:0; transform:translateY(30px); transition:all .7s ease-out; scroll-margin-top:calc(var(--nav-height) + 12px)}
  section.visible{opacity:1; transform:none}

  /* ---------- SERVICES (cards) ---------- */
  .services-wrap{padding:12px 18px}
  .services-grid{
    display:grid;
    grid-template-columns:repeat(4,1fr);
    gap:22px;
    align-items:start;
  }

  .service-card{
    background:#fff;
    border-radius:10px;
    box-shadow:0 6px 18px rgba(0,0,0,0.06);
    overflow:hidden;
    display:flex;
    flex-direction:column;
    text-decoration:none;
    transition:transform .25s ease, box-shadow .25s ease;
  }

  .service-card:hover{transform:translateY(-8px); box-shadow:0 18px 36px rgba(0,0,0,0.12)}
  .service-image{height:160px; width:100%; object-fit:cover; display:block}
  .service-body{padding:20px; text-align:center; flex:1; display:flex; align-items:center; justify-content:center}
  .service-body h3{margin:0; font-size:1rem; color:#111}

  /* ---------- PACKAGES ---------- */
  .packages-grid{
    display:grid;
    grid-template-columns:repeat(4,1fr);
    gap:22px;
    align-items:stretch;
    justify-items:center;
  }
  .package-card{
    width:220px;
    background:#fff;
    border-radius:10px;
    padding:18px;
    box-shadow:0 6px 18px rgba(0,0,0,0.06);
    text-align:center;
    transition:transform .2s ease;
    text-decoration:none;
    color:#111;
  }
  .package-card:hover{transform:translateY(-6px)}
  .package-card .price{margin-top:10px; color:#555; font-size:.95rem}

  /* ---------- GALLERY (masonry-like) ---------- */
  .gallery-grid{
    column-gap:18px;
    column-count:4;
  }
  .gallery-grid img{width:100%; display:block; margin-bottom:14px; border-radius:10px; box-shadow:0 6px 18px rgba(0,0,0,0.06); cursor:pointer}
  /* smaller columns on tablets/phones */
  @media (max-width:1200px){ .services-grid{grid-template-columns:repeat(3,1fr)} .gallery-grid{column-count:3} }
  @media (max-width:900px){ .services-grid{grid-template-columns:repeat(2,1fr)} .packages-grid{grid-template-columns:repeat(2,1fr)} .gallery-grid{column-count:2} .hero h1{font-size:2.2rem} }
  @media (max-width:520px){ .services-grid{grid-template-columns:1fr} .packages-grid{grid-template-columns:1fr} .gallery-grid{column-count:1} .hero{height:55vh} }

  /* floating social */
  .floating-buttons{position:fixed; right:18px; bottom:20px; display:flex; flex-direction:column; gap:12px; z-index:1300}
  .float-btn{width:44px; height:44px; border-radius:50%; display:flex; align-items:center; justify-content:center; box-shadow:0 6px 18px rgba(0,0,0,0.15); transition:transform .18s ease}
  .float-btn img{width:22px;height:22px; display:block}
  .float-btn:hover{transform:translateY(-5px)}
  .float-btn.whatsapp{background:#25D366}
  .float-btn.facebook{background:#1877F2}
  .float-btn.tiktok{background:#000; border:2px solid #ff0050}
  .float-btn.linkedin{background:#0A66C2}

  /* small helper */
  .section-head{display:flex; align-items:center; gap:16px; justify-content:space-between}

  /* ---------- MOBILE MENU ---------- */
  /* hamburger */
  .nav-toggle {
    display:none;
    background:transparent;
    border:0;
    cursor:pointer;
    gap:6px;
    padding:8px;
    align-items:center;
    justify-content:center;
  }
  .nav-toggle .bar{
    display:block;
    width:20px;
    height:2px;
    background:var(--white);
    border-radius:2px;
    transition:transform .25s, opacity .25s;
  }

  /* submenu toggle button (mobile only) */
  .submenu-toggle { display:none; background:transparent; border:0; color:var(--white); padding:8px; cursor:pointer; }

  @media (max-width: 768px) {
    nav { padding:0 12px; }
    .nav-toggle { display:flex; }

    nav ul{
      position:fixed;
      top:var(--nav-height);
      left:0;
      right:0;
      background:var(--black);
      flex-direction:column;
      align-items:stretch;
      gap:0;
      padding:8px 0;
      transform:translateY(-120%);
      transition:transform .35s ease-in-out;
      z-index:1250;
    }
    nav ul.open { transform:translateY(0); }

    nav li { width:100%; border-top:1px solid rgba(255,255,255,0.03); }
    nav a { display:block; width:100%; text-align:left; padding:14px 18px; }
    .submenu { position:static; background:transparent; box-shadow:none; padding-left:12px; display:none; }
    .submenu.open { display:flex; flex-direction:column; }
    .submenu li a { padding:10px 28px; background:transparent; border-radius:0; }

    .submenu-toggle { display:inline-flex; align-items:center; justify-content:center; padding:12px; margin-left:auto; }
  }

  /* small visual for open submenu (desktop keyboard focus) */
  nav li.submenu-open > a { background:rgba(255,255,255,0.04); }

</style>
</head>
<body>

  <!-- NAV -->
  <nav id="mainNav" aria-label="Main navigation">
    <div class="nav-brand" aria-hidden="false">
      <!-- optional logo (leave it if you have one) -->
      <a href="#home" class="logo" aria-label="Home">
        <img src="images/logo.png" alt="SA Private Protection Services Logo" onerror="this.style.display='none'">
      </a>
    </div>

    <button class="nav-toggle" id="navToggle" aria-expanded="false" aria-label="Open menu">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </button>

    <ul id="navLinks">
      <li><a href="#home" class="nav-link">Home</a></li>
      <li><a href="#about" class="nav-link">About</a></li>
      <li class="has-submenu">
        <a href="#services" class="nav-link">Our Services</a>
        <button class="submenu-toggle" aria-expanded="false" aria-label="Toggle Our Services submenu">▾</button>
        <ul>
          <li><a href="#armed-response" class="nav-link">24-Hour Armed Response</a></li>
          <li><a href="#close-protection" class="nav-link">Close Protection Services</a></li>
          <li><a href="#guarding" class="nav-link">Guarding Services</a></li>
          <li><a href="#escorts" class="nav-link">Escorts & Transfers</a></li>
          <li><a href="#event-security" class="nav-link">Event Security</a></li>
          <li><a href="#surveillance" class="nav-link">Surveillance & Monitoring</a></li>
        </ul>
      </li>
      <li class="has-submenu">
        <a href="#packages" class="nav-link">Response Packages</a>
        <button class="submenu-toggle" aria-expanded="false" aria-label="Toggle Response Packages submenu">▾</button>
        <ul>
          <li><a href="#residential" class="nav-link">Residential</a></li>
          <li><a href="#pensioner" class="nav-link">Pensioner</a></li>
          <li><a href="#small-business" class="nav-link">Small Business</a></li>
          <li><a href="#large-business" class="nav-link">Large Business</a></li>
        </ul>
      </li>
      <li><a href="#gallery" class="nav-link">Gallery</a></li>
      <li><a href="#contact" class="nav-link">Contact</a></li>
    </ul>
  </nav>

  <!-- HERO -->
  <header id="home" class="hero" role="banner">
    <div class="hero-overlay" id="heroOverlay"></div>
    <div class="content">
      <h1>SA Private Protection Services</h1>
      <p>Professional security solutions — responsive and trusted since 2016.</p>
    </div>
  </header>

  <main>

    <!-- ABOUT -->
    <section id="about" class="about-section">
      <div class="section-head">
        <h2 class="section-title">About Us</h2>
      </div>
       <p>Established in 2016, SA Private Protection Services (Pty) Ltd has consistently delivered high-quality security solutions to a growing client base. With a proven track record of retaining clients and expanding our expertise, we pride ourselves on mastering the art of client satisfaction. Our flat corporate structure ensures seamless communication and flexibility, allowing us to adapt to your evolving security needs.</p>

  <p>SA Private Protection Services has established itself as a trusted security partner for some of South Africa's largest retailers. We provide tailored security solutions to prominent food retailers, liquor chains, and clothing franchises, ensuring the safety and security of the people, premises, and assets.</p>

  <p>Our expertise in risk management, surveillance, and armed response enables us to mitigate potential threats and protect our clients' interests. With a proven track record of delivering high-quality security services, SA Private Protection Services is the partner of choice for businesses seeking to safeguard their operations.</p>
</section>

    <!-- SERVICES GRID (cards clickable to anchors) -->
    <section id="services" class="services-wrap">
      <h2 class="section-title">Our Services</h2>

      <div class="services-grid">
        <!-- Each card is an anchor (and is clickable) -->
        <a class="service-card" href="armed-response-details.html" title="24-Hour Armed Response">
  <img class="service-image" src="images/service1.jpg" alt="24-Hour Armed Response">
  <div class="service-body"><h3>24-Hour Armed Response</h3></div>
</a>


        <a class="service-card" href="close-protection-details.html" title="Close Protection Services">
          <img class="service-image" src="images/service2.jpg" alt="Close Protection Services">
          <div class="service-body"><h3>Close Protection Services</h3></div>
        </a>

        <a class="service-card" href="security-services-details.html" title="Guarding Services">
          <img class="service-image" src="images/service3.jpg" alt="Guarding Services">
          <div class="service-body"><h3>Guarding Services</h3></div>
        </a>

        <a class="service-card" href="escort-details.html" title="Escorts & Transfers">
          <img class="service-image" src="images/service5.jpg" alt="Escorts & Transfers">
          <div class="service-body"><h3>Escorts & Transfers</h3></div>
        </a>

        <a class="service-card" href="event-security-details.html" title="Event Security">
          <img class="service-image" src="images/gallery2.jpg" alt="Event Security">
          <div class="service-body"><h3>Event Security</h3></div>
        </a>

        <a class="service-card" href="surveillance-alarm-details.html" title="Surveillance & Monitoring">
          <img class="service-image" src="images/gallery11.jpg" alt="Surveillance & Monitoring">
          <div class="service-body"><h3>Surveillance & Monitoring</h3></div>
        </a>

        <!-- If you have more cards they will wrap to next row automatically -->
      </div>
    </section>

    <!-- PACKAGES -->
    <section id="packages">
      <h2 class="section-title">Response Packages</h2>
      <div class="packages-grid" style="margin-top:18px;">
        <a class="package-card" href="#residential">
          <strong>Residential</strong>
          <div class="price">R345.00 Per Month</div>
        </a>
        <a class="package-card" href="#pensioner">
          <strong>Pensioner</strong>
          <div class="price">R172.50 Per Month</div>
        </a>
        <a class="package-card" href="#small-business">
          <strong>Small Business</strong>
          <div class="price">R448.50 Per Month</div>
        </a>
        <a class="package-card" href="#large-business">
          <strong>Large Business</strong>
          <div class="price">R678.50 Per Month</div>
        </a>
      </div>
    </section>

   

    <!-- GALLERY MASONRY WITH LIGHTBOX NAVIGATION -->
<section id="gallery">
  <h2 class="section-title">Gallery</h2>
  <div class="gallery-grid">
    <img src="images/gallery17.jpg" alt="Gallery 17" class="lightbox-img">
    <img src="images/gallery2.jpg" alt="Gallery 2" class="lightbox-img">
    <img src="images/gallery3.jpg" alt="Gallery 3" class="lightbox-img">
    <img src="images/gallery4.jpg" alt="Gallery 4" class="lightbox-img">
    <img src="images/gallery18.jpg" alt="Gallery 18" class="lightbox-img">
    <img src="images/gallery6.jpg" alt="Gallery 6" class="lightbox-img">
    <img src="images/gallery7.jpg" alt="Gallery 7" class="lightbox-img">
    <img src="images/gallery8.jpg" alt="Gallery 8" class="lightbox-img">
    <img src="images/gallery9.jpg" alt="Gallery 9" class="lightbox-img">
    <img src="images/gallery10.jpg" alt="Gallery 10" class="lightbox-img">
    <img src="images/gallery11.jpg" alt="Gallery 11" class="lightbox-img">
    <img src="images/gallery12.jpg" alt="Gallery 12" class="lightbox-img">
    <img src="images/gallery13.jpg" alt="Gallery 13" class="lightbox-img">
    <img src="images/gallery14.jpg" alt="Gallery 14" class="lightbox-img">
    <img src="images/gallery15.jpg" alt="Gallery 15" class="lightbox-img">
    <img src="images/gallery16.jpg" alt="Gallery 16" class="lightbox-img">
  </div>
</section>

<!-- LIGHTBOX MODAL -->
<div id="lightbox" class="lightbox" aria-hidden="true" role="dialog" aria-label="Image viewer">
  <span class="close" role="button" aria-label="Close">&times;</span>
  <img class="lightbox-content" id="lightbox-img" alt="">
  <div id="caption"></div>
  <a class="prev" role="button" aria-label="Previous image">&#10094;</a>
  <a class="next" role="button" aria-label="Next image">&#10095;</a>
</div>

<style>
/* Gallery Images */
.gallery-grid img {
  cursor: pointer;
  transition: 0.3s;
}
.gallery-grid img:hover {
  opacity: 0.8;
}

/* Lightbox Modal */
.lightbox {
  display: none;
  position: fixed;
  z-index: 9999;
  padding-top: 60px;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0,0,0,0.9);
}

/* Modal Image */
.lightbox-content {
  margin: auto;
  display: block;
  max-width: 90%;
  max-height: 80%;
}

/* Caption */
#caption {
  margin: 15px auto;
  text-align: center;
  color: #fff;
  font-size: 16px;
}

/* Close Button */
.close {
  position: absolute;
  top: 20px;
  right: 35px;
  color: #fff;
  font-size: 40px;
  font-weight: bold;
  cursor: pointer;
}

/* Next & Previous Buttons */
.prev, .next {
  cursor: pointer;
  position: absolute;
  top: 50%;
  width: auto;
  padding: 16px;
  color: #fff;
  font-weight: bold;
  font-size: 40px;
  user-select: none;
  transform: translateY(-50%);
}

.prev { left: 10px; }
.next { right: 10px; }

.prev:hover, .next:hover { color: #ff7a00; } /* optional brand color hover */
</style>

<script>
/* =========================
   LIGHTBOX (kept as original)
   ========================= */
const lightbox = document.getElementById('lightbox');
const lightboxImg = document.getElementById('lightbox-img');
const captionText = document.getElementById('caption');
const images = document.querySelectorAll('.lightbox-img');
let currentIndex = 0;

// Open lightbox
images.forEach((img, index) => {
  img.onclick = () => {
    lightbox.style.display = 'block';
    lightbox.setAttribute('aria-hidden', 'false');
    currentIndex = index;
    showImage(currentIndex);
  }
});

// Show image function
function showImage(index) {
  lightboxImg.src = images[index].src;
  lightboxImg.alt = images[index].alt || '';
  captionText.innerHTML = images[index].alt || '';
}

// Next / Previous controls
document.querySelector('.next').onclick = () => {
  currentIndex = (currentIndex + 1) % images.length;
  showImage(currentIndex);
}

document.querySelector('.prev').onclick = () => {
  currentIndex = (currentIndex - 1 + images.length) % images.length;
  showImage(currentIndex);
}

// Close lightbox
document.querySelector('.close').onclick = () => {
  lightbox.style.display = 'none';
  lightbox.setAttribute('aria-hidden', 'true');
}

// Close when clicking outside image
lightbox.onclick = (e) => {
  if(e.target === lightbox) {
    lightbox.style.display = 'none';
    lightbox.setAttribute('aria-hidden', 'true');
  }
}

// Optional: keyboard navigation
document.addEventListener('keydown', (e) => {
  if(lightbox.style.display === 'block') {
    if(e.key === 'ArrowRight') document.querySelector('.next').click();
    if(e.key === 'ArrowLeft') document.querySelector('.prev').click();
    if(e.key === 'Escape') {
      lightbox.style.display = 'none';
      lightbox.setAttribute('aria-hidden', 'true');
    }
  }
});
</script>

    <!-- CONTACT -->
<section id="contact">
  <h2>Contact Us</h2>

  <div class="contact-container">
    <!-- Contact Details -->
    <div class="contact-details">
      <p><strong>Office:</strong> <a href="tel:0100060366">010 006 0366</a></p>
      <p><strong>Director - Jaco Human:</strong> <a href="tel:0732105102">073 210 5102</a></p>
      <p><strong>HR & Accounts - Natasha Kok:</strong> <a href="tel:0838801768">083 880 1768</a></p>
      <p><strong>Email:</strong> 
        <a href="mailto:jhuman@sapps.co.za">jhuman@sapps.co.za</a> | 
        <a href="mailto:admin@sapps.co.za">admin@sapps.co.za</a>
      </p>
      <p><strong>Address:</strong> 51 Vaal Drive, Pietersfield Ext, Springs, 1559</p>

      <!-- Office Hours -->
      <div class="office-hours">
        <h3>Office Hours</h3>
        <p>Monday - Thursday: 08:00 AM - 04:00 PM</p>
        <p>Friday: 08:00 AM - 02:00 PM</p>
        <p>Sunday & Public Holidays: Closed</p>
      </div>
    </div>

    <!-- Contact Form -->
<div class="contact-form">
  <h3>Send Us a Message</h3>
  <form id="contactForm">
    <input type="text" name="name" placeholder="Your Name" required>
    <input type="email" name="email" placeholder="Your Email" required>
    <input type="tel" name="phone" placeholder="Your Phone Number">
    <textarea name="message" placeholder="Your Message" rows="5" required></textarea>
    <button type="submit">Send Message</button>
  </form>

  <!-- Thank You Message -->
  <div id="thankYouMessage" style="display:none; color: green; margin-top: 20px;">
    ✅ Thanks for your message! We'll be in touch soon.
  </div>
</div>

</div>
</section>

<style>
  /* Container & Layout */
  #thankYouMessage {
    display: none;
    color: green;
    margin-top: 20px;
    transition: opacity 0.4s ease;
    opacity: 0;
  }

  #thankYouMessage.show {
    display: block;
    opacity: 1;
  }

  #contact {
    background:#fff;
    color:#000000e0;
    padding:60px 20px;
    font-family:'Montserrat', sans-serif;
  }
  #contact h2 {
    text-align:center;
    color:#ff7f00;
    margin-bottom:40px;
  }
  .contact-container {
    display:flex;
    flex-wrap:wrap;
    justify-content:space-between;
    gap:40px;
    max-width:1200px;
    margin:0 auto;
  }
  .contact-details, .contact-form {
    flex:1 1 350px;
    min-width:300px;
  }

  /* Contact Details & Links */
  .contact-details a {
    color:#ff7f00;
    text-decoration:none;
    transition:color 0.3s;
  }
  .contact-details a:hover {
    color:#e65c00;
  }
  .office-hours h3 {
    color:#ff7f00;
    margin-bottom:10px;
  }

  /* Contact Form */
  .contact-form {
    background:#9b9898;
    color:#fff;
    padding:30px;
    border-radius:15px;
    box-shadow:0 4px 15px rgba(0,0,0,0.2);
  }
  .contact-form h3 {
    color:#ff7f00;
    text-align:center;
    margin-bottom:20px;
  }
  .contact-form form {
    display:flex;
    flex-direction:column;
    gap:15px;
  }
  .contact-form input, 
  .contact-form textarea {
    padding:10px;
    border:none;
    border-radius:8px;
    font-family:'Montserrat', sans-serif;
    font-size:1rem;
  }
  .contact-form button {
    background:#ff7f00;
    color:#fff;
    padding:12px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    font-weight:bold;
    transition:all 0.3s;
  }
  .contact-form button:hover {
    background:#e65c00;
    transform:scale(1.05);
  }
</style>

<script>
  /* =========================
     CONTACT FORM (kept original functionality)
     ========================= */
  const form = document.getElementById('contactForm');
  const thankYou = document.getElementById('thankYouMessage');

  form.addEventListener('submit', async (e) => {
    e.preventDefault(); // prevent page reload

    const formData = new FormData(form);

    try {
      const response = await fetch('https://formspree.io/f/mrbljqpk', {
        method: 'POST',
        body: formData,
        headers: { 'Accept': 'application/json' }
      });

      if (response.ok) {
        form.reset();
        // show animated thank you
        thankYou.classList.add('show');
        // hide after a while (optional)
        setTimeout(() => {
          thankYou.classList.remove('show');
        }, 6000);
      } else {
        alert('Oops! Something went wrong. Please try again.');
      }
    } catch (error) {
      alert('Error submitting form. Please try again later.');
    }
  });
</script>

  <footer style="background:#111;color:#fff;padding:28px;text-align:center">© 2025 SA Private Protection Services (PTY) LTD</footer>

  <!-- Floating social buttons (bottom-right) -->
  <div class="floating-buttons" aria-hidden="false">
    <a class="float-btn whatsapp" href="https://wa.me/27732105102" target="_blank" rel="noopener noreferrer" aria-label="WhatsApp">
      <img src="images/logo-whatsapp.png" alt="WhatsApp">
    </a>
    <a class="float-btn facebook" href="https://www.facebook.com/sa-private-protection-services" target="_blank" rel="noopener noreferrer" aria-label="Facebook">
      <img src="images/Facebook Logo.png" alt="Facebook">
    </a>
    <a class="float-btn tiktok" href="https://www.tiktok.com/@saprivateprotection" target="_blank" rel="noopener noreferrer" aria-label="TikTok">
      <img src="images/logo-tiktok.png" alt="TikTok">
    </a>
    <a class="float-btn linkedin" href="https://www.linkedin.com/in/sa-private-protection-services" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
      <img src="images/linkedin logo.png" alt="LinkedIn">
    </a>
  </div>

<script>
  /* =========================
     NAV BEHAVIOUR
     - desktop: hover shows submenu (unchanged)
     - mobile: hamburger toggles menu
     - touch devices: first tap opens submenu, second tap follows link (requested behavior)
     - clicking outside closes open submenus
     ========================= */

  const nav = document.getElementById('mainNav');
  const navLinks = document.getElementById('navLinks');
  const navToggle = document.getElementById('navToggle');
  const heroOverlay = document.getElementById('heroOverlay');

  // HERO overlay dim on scroll + navbar fade
  window.addEventListener('scroll', () => {
    const y = window.scrollY;
    nav.style.background = `rgba(17,17,17, ${Math.min(Math.max(y/300,0.6),0.95)})`;
    if(heroOverlay) heroOverlay.style.background = `rgba(0,0,0, ${Math.min(0.35 + (y/1000),0.9)})`;
  });

  // mobile hamburger toggle
  navToggle.addEventListener('click', () => {
    const expanded = navToggle.getAttribute('aria-expanded') === 'true';
    navToggle.setAttribute('aria-expanded', String(!expanded));
    navLinks.classList.toggle('open');
    navToggle.classList.toggle('active');
  });

  // close mobile menu when a nav link (non-parent) is clicked
  navLinks.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', () => {
      // if mobile menu open, close it
      if(navLinks.classList.contains('open')) {
        navLinks.classList.remove('open');
        navToggle.classList.remove('active');
        navToggle.setAttribute('aria-expanded', 'false');
      }
    });
  });

  // Submenu toggle buttons (mobile) behaviour
  document.querySelectorAll('.has-submenu').forEach(li => {
    const button = li.querySelector('.submenu-toggle');
    const submenu = li.querySelector('ul');

    // mobile explicit toggle button
    if (button && submenu) {
      button.addEventListener('click', (e) => {
        e.preventDefault();
        const isOpen = submenu.classList.toggle('open');
        button.setAttribute('aria-expanded', String(isOpen));
        if (isOpen) li.classList.add('submenu-open');
        else li.classList.remove('submenu-open');
      });
    }

    // TOUCH/POINTER behavior: first tap opens submenu, second tap follows link
    const anchor = li.querySelector('a.nav-link');
    if (anchor && submenu) {
      // use pointerdown so we can detect pointerType (touch vs mouse)
      anchor.addEventListener('pointerdown', (ev) => {
        // only intercept touch-style pointers (touch, pen)
        if (ev.pointerType === 'touch' || ev.pointerType === 'pen') {
          // if submenu is currently closed, open it and prevent navigation
          const isOpen = submenu.classList.contains('open') || li.classList.contains('submenu-open');
          if (!isOpen) {
            ev.preventDefault();
            // close other open submenus
            closeAllSubmenus();
            submenu.classList.add('open');
            li.classList.add('submenu-open');
            // reflect on the submenu button if exists
            const btn = li.querySelector('.submenu-toggle');
            if (btn) btn.setAttribute('aria-expanded', 'true');
          } else {
            // allow the navigation (second tap) — but we also close submenu after a short delay
            setTimeout(() => {
              submenu.classList.remove('open');
              li.classList.remove('submenu-open');
              const btn = li.querySelector('.submenu-toggle');
              if (btn) btn.setAttribute('aria-expanded', 'false');
            }, 600);
          }
        }
        // for mouse/pointer devices we do nothing here (hover handles it)
      });

      // For keyboard users: toggle on Enter when focused
      anchor.addEventListener('keydown', (ev) => {
        if(ev.key === 'Enter' || ev.key === ' ') {
          const isOpen = submenu.classList.contains('open') || li.classList.contains('submenu-open');
          ev.preventDefault();
          if (!isOpen) {
            closeAllSubmenus();
            submenu.classList.add('open');
            li.classList.add('submenu-open');
            const btn = li.querySelector('.submenu-toggle');
            if (btn) btn.setAttribute('aria-expanded', 'true');
          } else {
            submenu.classList.remove('open');
            li.classList.remove('submenu-open');
            const btn = li.querySelector('.submenu-toggle');
            if (btn) btn.setAttribute('aria-expanded', 'false');
            // optionally follow link (uncomment to navigate on Enter when submenu open)
            // window.location = anchor.href;
          }
        }
      });
    }
  });

  function closeAllSubmenus() {
    document.querySelectorAll('.has-submenu').forEach(li => {
      const submenu = li.querySelector('ul');
      if (submenu) submenu.classList.remove('open');
      li.classList.remove('submenu-open');
      const btn = li.querySelector('.submenu-toggle');
      if (btn) btn.setAttribute('aria-expanded', 'false');
    });
  }

  // click outside to close any open submenu
  document.addEventListener('click', (e) => {
    if (!nav.contains(e.target)) {
      closeAllSubmenus();
      if (navLinks.classList.contains('open')) {
        navLinks.classList.remove('open');
        navToggle.classList.remove('active');
        navToggle.setAttribute('aria-expanded', 'false');
      }
    }
  });

  // simple scroll spy (highlights anchors)
  const navSpyLinks = document.querySelectorAll('nav a[href^="#"]');
  const sections = document.querySelectorAll('main section, header');
  function onScrollSpy(){
    const top = window.scrollY + 80;
    sections.forEach(sec => {
      const id = sec.id;
      if(!id) return;
      const offsetTop = sec.offsetTop;
      const height = sec.offsetHeight;
      const link = document.querySelector(`nav a[href="#${id}"]`);
      if(top >= offsetTop && top < offsetTop + height){
        navSpyLinks.forEach(a=>a.classList.remove('active'));
        if(link) link.classList.add('active');
      }
    });
  }
  window.addEventListener('scroll', onScrollSpy);
  window.addEventListener('load', () => {
    // reveal on load
    document.querySelectorAll('main section').forEach(s => {
      const r = s.getBoundingClientRect();
      if(r.top < window.innerHeight - 80) s.classList.add('visible');
    });
    onScrollSpy();
  });

  // Fade-in on scroll for sections using IntersectionObserver
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if(entry.isIntersecting) entry.target.classList.add('visible');
    });
  }, {threshold: 0.12});
  document.querySelectorAll('main section').forEach(s => observer.observe(s));

</script>

</body>
</html>